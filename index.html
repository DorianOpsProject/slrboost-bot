<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SLR BOOST ‚ö°</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    :root {
      --bg: #0b0b0b;
      --gold: #f7b731;
      --white: #fff;
      --gray: #1c1c1e;
      --font: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
    }
    body {
      margin: 0; padding: 0;
      background: var(--bg); color: var(--white);
      font-family: var(--font);
      overflow-x: hidden;
    }
    header {
      text-align: center;
      padding: 1.2rem 0;
      font-size: 1.5rem;
      font-weight: 600;
      letter-spacing: 1px;
      background: linear-gradient(90deg, #f7b731, #fff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .products {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1rem;
      padding: 1rem;
      animation: fadeIn 0.8s ease-in-out;
    }
    .product {
      background: var(--gray);
      border-radius: 16px;
      padding: 1rem;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      display: flex; flex-direction: column; align-items: center;
    }
    .product:hover { transform: scale(1.05); box-shadow: 0 0 10px #f7b73155; }
    .product h3 { margin: 0.5rem 0 0; font-size: 1.1rem; }
    .product p { opacity: 0.7; font-size: 0.85rem; text-align: center; }
    .tag {
      background: var(--gold);
      color: black;
      padding: 2px 8px;
      border-radius: 8px;
      font-size: 0.7rem;
      margin-top: 0.3rem;
    }
    .add-btn {
      margin-top: auto;
      background: var(--gold);
      color: black;
      font-weight: 600;
      border: none;
      border-radius: 10px;
      padding: 0.6rem 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .add-btn:hover { background: #ffcc45; }

    .cart-btn {
      position: fixed;
      bottom: 20px; right: 20px;
      background: var(--gold);
      color: black;
      border: none;
      border-radius: 50px;
      padding: 0.8rem 1.2rem;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 0 10px #f7b73188;
    }

    /* Panier modal */
    .modal {
      position: fixed;
      bottom: -100%;
      left: 0; right: 0;
      background: var(--gray);
      border-radius: 20px 20px 0 0;
      transition: bottom 0.4s ease;
      padding: 1rem;
      z-index: 10;
    }
    .modal.show { bottom: 0; }
    .cart-item { display: flex; justify-content: space-between; padding: 0.5rem 0; }
    .form input, .form select {
      width: 100%;
      padding: 0.6rem;
      border-radius: 8px;
      border: none;
      margin-bottom: 0.6rem;
    }
    .submit-btn {
      background: var(--gold);
      color: black;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      padding: 0.8rem;
      width: 100%;
      cursor: pointer;
    }
    @keyframes fadeIn { from {opacity:0; transform: translateY(20px);} to {opacity:1; transform: translateY(0);} }
  </style>
</head>
<body>
  <header>SLR BOOST ‚ö°</header>
  <section class="products" id="products"></section>

  <button class="cart-btn" id="openCart">üõí Panier (<span id="count">0</span>)</button>

  <div class="modal" id="cartModal">
    <h2>üõçÔ∏è Votre commande</h2>
    <div id="cartItems"></div>
    <hr>
    <h3>üöö Informations de livraison</h3>
    <div class="form">
      <input id="name" placeholder="Nom complet" required>
      <input id="address" placeholder="Adresse compl√®te">
      <select id="delivery">
        <option value="Livraison">Livraison</option>
        <option value="Sur place">Sur place</option>
      </select>
    </div>
    <button class="submit-btn" id="submitOrder">Commander</button>
  </div>

  <script>
    const PRODUCTS = [
      { id:"SLR-P01", name:"Produit 01", category:"Catalogue", origin:"üá≤üá¶ Maroc", quality:"Premium", price:0.00, desc:"Description (exemple).", tags:["Nouveau"] },
      { id:"SLR-P02", name:"Produit 02", category:"Catalogue", origin:"üá≤üá¶ Maroc", quality:"Premium", price:0.00, desc:"Description (exemple).", tags:["Populaire"] },
      { id:"SLR-P03", name:"Produit 03", category:"Catalogue", origin:"üá≤üá¶ Maroc", quality:"Premium", price:0.00, desc:"Description (exemple).", tags:["Stock limit√©"] },
      { id:"SLR-P04", name:"Produit 04", category:"Catalogue", origin:"üá≤üá¶ Maroc", quality:"Premium", price:0.00, desc:"Description (exemple).", tags:[] },
      { id:"SLR-P05", name:"Produit 05", category:"Catalogue", origin:"üá≥üá± Pays-Bas", quality:"Premium", price:0.00, desc:"Description (exemple).", tags:["Best-seller"] },
      { id:"SLR-P06", name:"Produit 06", category:"Catalogue", origin:"üá≥üá± Pays-Bas", quality:"Premium", price:0.00, desc:"Description (exemple).", tags:[] },
      { id:"SLR-P07", name:"Produit 07", category:"Catalogue", origin:"üá∫üá∏ USA", quality:"Premium", price:0.00, desc:"Description (exemple).", tags:["USA"] },
      { id:"SLR-P08", name:"Produit 08", category:"Catalogue", origin:"üá≥üá± Pays-Bas", quality:"Premium", price:0.00, desc:"Description (exemple).", tags:[] },
      { id:"SLR-P09", name:"Produit 09", category:"Catalogue", origin:"üá∫üá∏ USA", quality:"Premium", price:0.00, desc:"Description (exemple).", tags:[] },
      { id:"SLR-P10", name:"Produit 10", category:"Catalogue", origin:"üá∫üá∏ USA", quality:"Premium", price:0.00, desc:"Description (exemple).", tags:[] },
      { id:"SLR-P11", name:"Produit 11", category:"Catalogue", origin:"üá®üá¶ Canada", quality:"Premium", price:0.00, desc:"Description (exemple).", tags:["Canada"] }
    ];

    const tg = window.Telegram?.WebApp || {};
    const productsContainer = document.getElementById('products');
    const cartBtn = document.getElementById('openCart');
    const modal = document.getElementById('cartModal');
    const count = document.getElementById('count');
    const cartItems = document.getElementById('cartItems');
    const submitOrder = document.getElementById('submitOrder');
    const nameInput = document.getElementById('name');
    const addressInput = document.getElementById('address');
    const deliveryInput = document.getElementById('delivery');

    let cart = [];

    PRODUCTS.forEach(p => {
      const card = document.createElement('div');
      card.className = 'product';
      card.innerHTML = `
        <h3>${p.name}</h3>
        <p>${p.origin} ${p.quality}</p>
        <p style="opacity:0.6">${p.desc}</p>
        ${p.tags.map(t=>`<div class="tag">${t}</div>`).join('')}
        <button class="add-btn" data-id="${p.id}">Ajouter</button>
      `;
      productsContainer.appendChild(card);
    });

    document.querySelectorAll('.add-btn').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const id = btn.dataset.id;
        const product = PRODUCTS.find(p=>p.id===id);
        cart.push(product);
        count.textContent = cart.length;
        tg.HapticFeedback?.impactOccurred('soft');
      });
    });

    cartBtn.addEventListener('click',()=> modal.classList.toggle('show'));

    submitOrder.addEventListener('click',()=>{
      const order = {
        items: cart,
        name: nameInput.value,
        address: addressInput.value,
        delivery: deliveryInput.value
      };
      if(!order.name) return alert("Merci d'indiquer votre nom.");
      if(order.delivery==="Livraison" && !order.address) return alert("Merci d'indiquer votre adresse.");
      tg.sendData?.(JSON.stringify(order));
      modal.classList.remove('show');
      alert("‚úÖ Commande envoy√©e ! Le montant peut varier selon le produit.");
      cart = []; count.textContent=0;
    });
  </script>
</body>
</html>
